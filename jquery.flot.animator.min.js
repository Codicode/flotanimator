/* jQuery Flot Animator version 1.0.

Flot Animator is a free jQuery Plugin that will add fluid animations to Flot charts.

Copyright (c) 2012-2013 Chtiwi Malek
http://www.codicode.com/art/jquery_flot_animator.aspx

Licensed under Creative Commons Attribution 3.0 Unported License.
*/
$.extend({plotAnimator:function(t,n,a){function i(i){var r=[];r.push([i[0][0],Math.max.apply(Math,i.map(function(t){return t[1]}))]),r.push([i[0][0],null]),r.push([i[0][0],Math.min.apply(Math,i.map(function(t){return t[1]}))]);for(var o=0;o<i.length;o++)r.push([i[o][0],null]);return n[e].data=r,$.plot(t,n,a)}function r(){var t=parseInt(u[0][0]),n=parseInt(u[u.length-1][0]),a=parseInt((n-t)/m),i=[];i.push(u[0]);var r=1;lPoint=u[0],nPoint=u[r];for(var o=t+a;n+a>o;o+=a){for(o>n&&(o=n),$("#m2").html(o);o>nPoint[0];)lPoint=nPoint,nPoint=u[r++];if(o==nPoint[0])i.push([o,nPoint[1]]),lPoint=nPoint,nPoint=u[r++];else{var e=(nPoint[1]-lPoint[1])/(nPoint[0]-lPoint[0]);curV=e*o+(lPoint[1]-e*lPoint[0]),i.push([o,curV])}}return i}function o(){var a=[];switch(g++,f){case"right":a=v.slice(0,g);break;case"left":a=v.slice(-1*g);break;case"center":a=v.slice(v.length/2-g/2,v.length/2+g/2)}if(!p){inV=a[0][0],laV=a[a.length-1][0],a=[];for(var i=0;i<u.length;i++)u[i][0]>=inV&&u[i][0]<=laV&&a.push(u[i])}n[e].data=m>g?a:u,h.setData(n),h.draw(),m>g?setTimeout(o,c/m):t.trigger("animatorComplete")}for(var e=0,l=0;l<n.length;l++)n[l].animator&&(e=l);var s=n[e],u=s.data,h=i(u),p=n[e].lines?!0:!1,m=n[e].animator&&n[e].animator.steps||135,c=n[e].animator&&n[e].animator.duration||1e3,P=n[e].animator&&n[e].animator.start||0,f=n[e].animator&&n[e].animator.direction||"right",g=0,v=r();return setTimeout(o,P),h}});